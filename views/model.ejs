<%- include('header.ejs') %>
<script>
  function changeOption() {
    var selectBox = document.getElementById("specs-selector");
    var selectedValue = selectBox.options[selectBox.selectedIndex].value;
    var ramlTextArea = document.getElementById("ramlTextArea");
    var oasTextArea = document.getElementById("oasTextArea");
    var classifier = document.getElementById("classifier");
    if (classifier) {
        classifier.value = selectedValue;
    } 
    if (selectedValue === "raml") {
      ramlTextArea.style.display = "block";
      oasTextArea.style.display = "none";
    } else {
      oasTextArea.style.display = "block";
      ramlTextArea.style.display = "none";
    }
  }
</script>
<form form method="post" action="/apid">
  <label for="specs">Choose a spec:</label>
  <select id="specs-selector" onchange="changeOption()">
    <option id="raml-spec" value="raml">RAML</option>
    <option id="oas-spec" value="oas">OAS</option>
  </select>
  <br /><br />
  <textarea
    id="ramlTextArea"
    name="ramlSpec"
    style="width: 100%; height: 400px; display: block"
  >
<%= amfModelRaml %></textarea
  >
  <textarea
    id="oasTextArea"
    name="oasSpec"
    style="width: 100%; height: 400px; display: none"
  >
<%= amfModelOas %></textarea
  >
  <label>Name:</label>
  <input type="text" name="name" />
  <label>Description:</label>
  <input type="text" name="description" />
  <label>GroupId:</label>
  <input type="text" name="groupId" />
  <label>Asset Id:</label>
  <input type="text" name="assetId" />
  <label>Version:</label>
  <input type="text" name="version" value="1.0.0" />
  <label>API Version:</label>
  <input type="text" name="apiVersion" value="v1" />
  <input id="classifier" hidden type="text" name="classifier" />
  <button type="submit" style="margin-top: 20px">
    Save changes / upload to Design Center
  </button>
</form>
<%- include('footer.ejs') %>)
